appConfig: weaver.toml
repo: docker.io/eberkley

listeners:
  - name: boutique
    port: 8080
    public: true


resourceSpec:
  requests:
    cpu: "1"
    memory: "2048Mi"
  limits:
    cpu: "1"
    memory: "2048Mi"
  
scalingSpec:
  minReplicas: 1
  maxReplicas: 20
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 65

groups:
  - name: mainad
    components:
    - "github.com/ServiceWeaver/weaver/Main"
    - "github.com/ServiceWeaver/onlineboutique/adservice/AdService"
  
  - name: checkoutemailpay
    components:
    - "github.com/ServiceWeaver/onlineboutique/checkoutservice/CheckoutService"
    - "github.com/ServiceWeaver/onlineboutique/emailservice/EmailService"
    - "github.com/ServiceWeaver/onlineboutique/paymentservice/PaymentService"
  
  - name: carts
    components:
    - "github.com/ServiceWeaver/onlineboutique/cartservice/CartService"
    - "github.com/ServiceWeaver/onlineboutique/cartservice/cartCache"
